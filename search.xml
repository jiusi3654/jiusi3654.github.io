<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hadoop集群搭建</title>
      <link href="/2021/11/01/Hadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"/>
      <url>/2021/11/01/Hadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="Hadoop集群搭建（分布式版本）"><a href="#Hadoop集群搭建（分布式版本）" class="headerlink" title="Hadoop集群搭建（分布式版本）"></a>Hadoop集群搭建（分布式版本）</h1><h3 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h3><ul><li><p>三台虚拟机：master、node1、node2</p></li><li><p>时间同步</p></li><li><p>jdk1.8</p><pre><code>java -version</code></pre></li><li><p>修改主机名</p><pre><code>三台分别执行 vim /etc/hostname 并将内容指定为对应的主机名</code></pre></li><li><p>关闭防火墙：systemctl stop firewalld   </p><ul><li>查看防火墙状态：systemctl status firewalld </li><li>取消防火墙自启：systemctl disable firewalld</li></ul></li><li><p>静态IP配置</p><ul><li><p>直接使用图形化界面配置（不推荐）</p></li><li><p>手动编辑配置文件进行配置</p><pre><code>1、编辑网络配置文件vim /etc/sysconfig/network-scripts/ifcfg-ens33TYPE=EthernetBOOTPROTO=staticHWADDR=00:0C:29:E2:B8:F2NAME=ens33DEVICE=ens33ONBOOT=yesIPADDR=192.168.190.100GATEWAY=192.168.190.2NETMASK=255.255.255.0DNS1=192.168.190.2DNS2=223.6.6.6需要修改：HWADDR（mac地址）        IPADDR（根据自己的网段，自定义IP地址）        GATEWAY（根据自己的网段填写对应的网关地址）2、关闭NetworkManager，并取消开机自启systemctl stop NetworkManagersystemctl disable NetworkManager3、重启网络服务systemctl restart network</code></pre></li></ul></li><li><p>免密登录</p><pre><code># 1、生成密钥ssh-keygen -t rsa# 2、配置免密登录ssh-copy-id masterssh-copy-id node1ssh-copy-id node2# 3、测试免密登录ssh node1</code></pre></li><li><p>配置好映射文件：/etc/hosts</p><pre><code>192.168.190.100 master192.168.190.101 node1192.168.190.102 node2</code></pre></li></ul><h3 id="二、搭建Hadoop集群"><a href="#二、搭建Hadoop集群" class="headerlink" title="二、搭建Hadoop集群"></a>二、搭建Hadoop集群</h3><h4 id="1、上传安装包并解压"><a href="#1、上传安装包并解压" class="headerlink" title="1、上传安装包并解压"></a>1、上传安装包并解压</h4><pre><code># 使用xftp上传压缩包至master的/usr/local/soft/packages/cd /urs/local/soft/packages/# 解压tar -zxvf hadoop-2.7.6.tar.gz -C /usr/local/soft/</code></pre><h4 id="2、配置环境变量"><a href="#2、配置环境变量" class="headerlink" title="2、配置环境变量"></a>2、配置环境变量</h4><pre><code>vim /etc/profileJAVA_HOME=/usr/local/soft/jdk1.8.0_171HADOOP_HOME=/usr/local/soft/hadoop-2.7.6export PATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH# 重新加载环境变量source /etc/profile</code></pre><h4 id="3、修改Hadoop配置文件"><a href="#3、修改Hadoop配置文件" class="headerlink" title="3、修改Hadoop配置文件"></a>3、修改Hadoop配置文件</h4><ul><li><p><code>cd /usr/local/soft/hadoop-2.7.6/etc/hadoop/</code></p></li><li><p>core-site.xml</p><pre><code>    &lt;property&gt;        &lt;name&gt;fs.defaultFS&lt;/name&gt;        &lt;value&gt;hdfs://master:9000&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;        &lt;value&gt;/usr/local/soft/hadoop-2.7.6/tmp&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;fs.trash.interval&lt;/name&gt;        &lt;value&gt;1440&lt;/value&gt;    &lt;/property&gt;</code></pre></li><li><p>hadoop-env.sh</p><pre><code>export JAVA_HOME=/usr/local/soft/jdk1.8.0_171</code></pre><p>  <img src="https://i.loli.net/2021/08/28/qK2xyvaTzRl6CSb.png" alt="image.png"></p></li><li><p>hdfs-site.xml</p><pre><code>    &lt;property&gt;        &lt;name&gt;dfs.replication&lt;/name&gt;        &lt;value&gt;1&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;dfs.permissions&lt;/name&gt;        &lt;value&gt;false&lt;/value&gt;    &lt;/property&gt;</code></pre></li><li><p>mapred-site.xml.template</p><pre><code># 1、重命名文件cp mapred-site.xml.template mapred-site.xml# 2、修改    &lt;property&gt;        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;        &lt;value&gt;yarn&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;          &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;          &lt;value&gt;master:10020&lt;/value&gt;      &lt;/property&gt;      &lt;property&gt;          &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;          &lt;value&gt;master:19888&lt;/value&gt;      &lt;/property&gt; </code></pre></li><li><p>slaves</p><pre><code>node1node2</code></pre></li><li><p>yarn-site.xml</p><pre><code>    &lt;property&gt;        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;        &lt;value&gt;master&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;        &lt;value&gt;true&lt;/value&gt;    &lt;/property&gt;    &lt;property&gt;        &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;        &lt;value&gt;604800&lt;/value&gt;    &lt;/property&gt;</code></pre></li></ul><h4 id="4、分发Hadoop到node1、node2"><a href="#4、分发Hadoop到node1、node2" class="headerlink" title="4、分发Hadoop到node1、node2"></a>4、分发Hadoop到node1、node2</h4><pre><code>cd /usr/local/soft/scp -r hadoop-2.7.6/ node1:`pwd`scp -r hadoop-2.7.6/ node2:`pwd`</code></pre><h4 id="5、格式化namenode（第一次启动的时候需要执行）"><a href="#5、格式化namenode（第一次启动的时候需要执行）" class="headerlink" title="5、格式化namenode（第一次启动的时候需要执行）"></a>5、格式化namenode（第一次启动的时候需要执行）</h4><pre><code>hdfs namenode -format</code></pre><p><img src="https://i.loli.net/2021/08/28/MvQCsFRbuxnwoY7.png" alt="image.png"></p><h4 id="6、启动Hadoop集群"><a href="#6、启动Hadoop集群" class="headerlink" title="6、启动Hadoop集群"></a>6、启动Hadoop集群</h4><pre><code>start-all.sh</code></pre><h4 id="7、检查master、node1、node2上的进程"><a href="#7、检查master、node1、node2上的进程" class="headerlink" title="7、检查master、node1、node2上的进程"></a>7、检查master、node1、node2上的进程</h4><ul><li><p>master：</p><pre><code>[root@master soft]# jps2597 NameNode2793 SecondaryNameNode2953 ResourceManager3215 Jps</code></pre></li><li><p>node1：</p><pre><code>[root@node1 jdk1.8.0_171]# jps11361 DataNode11459 NodeManager11559 Jps</code></pre></li><li><p>node2：</p><pre><code>[root@node2 ~]# jps11384 DataNode11482 NodeManager11582 Jps</code></pre></li></ul><h4 id="8、访问HDFS的WEB界面"><a href="#8、访问HDFS的WEB界面" class="headerlink" title="8、访问HDFS的WEB界面"></a>8、访问HDFS的WEB界面</h4><pre><code>http://master:50070</code></pre><p><img src="https://i.loli.net/2021/08/28/hpP8laUgtBbFyY5.png" alt="image.png"></p><h4 id="9、访问YARN的WEB界面"><a href="#9、访问YARN的WEB界面" class="headerlink" title="9、访问YARN的WEB界面"></a>9、访问YARN的WEB界面</h4><pre><code>http://master:8088</code></pre><p><img src="https://i.loli.net/2021/08/28/yrVSEs3MqbDAn2v.png" alt="image.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/10/30/hello-world/"/>
      <url>/2021/10/30/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a class="link"   href="https://hexo.io/" >Hexo<i class="fas fa-external-link-alt"></i></a>! This is your very first post. Check <a class="link"   href="https://hexo.io/docs/" >documentation<i class="fas fa-external-link-alt"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link"   href="https://hexo.io/docs/troubleshooting.html" >troubleshooting<i class="fas fa-external-link-alt"></i></a> or you can ask me on <a class="link"   href="https://github.com/hexojs/hexo/issues" >GitHub<i class="fas fa-external-link-alt"></i></a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/writing.html" >Writing<i class="fas fa-external-link-alt"></i></a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/server.html" >Server<i class="fas fa-external-link-alt"></i></a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/generating.html" >Generating<i class="fas fa-external-link-alt"></i></a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a class="link"   href="https://hexo.io/docs/one-command-deployment.html" >Deployment<i class="fas fa-external-link-alt"></i></a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
